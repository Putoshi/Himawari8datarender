# HimawariStandardDataRender
テスト  
HSDファイルから画像を生成するプログラム

Himawari8 HSDファイルのみ対応  
Windows Vista以降

古いPCでPythonが使えないのでC#で書いたプログラムです  
Windowsのみ、コマンドラインから起動してください！！

## 2025.6.1更新
### GOES16~18のL1b、netcdf形式ファイルの簡単な表示に対応しました

使用方法：
1. releaseからプログラムをダウンロードし、解凍します。解凍後のフォルダには15個のファイルがあるはずです（8個のdllファイル、2個のexeファイル、1個のbz2ファイルはひまわり9号のhsd形式データ、3個の.ncはGOES衛星のnetcdf形式データ、そして1個の.batでプログラムを起動）
2. runstrender.batをダブルクリックすると、フォルダ内に4枚の画像が生成されます。これらは4つのサンプルデータを読み込んで生成されたものです。
2. H8/9衛星の場合、必要なhimawari standard data(HSD)データファイルを取得し、https://registry.opendata.aws/noaa-himawari/ の右側のbrowse bucketから探すことができます。ダウンロードしたbz2ファイルは解凍してもしなくても構いません。第一歩で解凍したフォルダに配置してください（試してもらうためにHS_H09_20250321_0810_B13_R302_R20_S0101.DAT.bz2というファイルを事前に準備しました）
3. GOES16~18衛星の場合、必要なGOES衛星のL1bデータファイル（netcdf形式）を取得し、https://registry.opendata.aws/noaa-goes/ の右側のbrowse bucketから探すことができます。衛星を確認してL1bデータをダウンロードし、.nc拡張子のファイルを第一歩で解凍したフォルダに配置してください（試してもらうために3つの.ncファイルを事前に準備しました）
4. runstrender.batを右クリックして編集を選択し、fileの後ろに処理したいファイル名を入力、colorの後ろに0は白黒スケール（あまり正確ではない）、1はBD、2は名前を忘れたスケール、3は水蒸気スケールを入力
後ろにoutpicスペースを追加して、希望する出力画像ファイル名を書くこともできます。出力画像はすべてpng形式です
4. runstrender.batをダブルクリックして実行します。cmdで実行しても構いません。

st_render5_cpp goesncfile file OR_ABI-L1b-RadM1-M6C13_G16_s20192440901238_e20192440901307_c20192440901338.nc color 2
これはGOES L1bを読み込むコマンドで、「goesncfile」はGOESのL1bを読み込むことを表します（H8H9衛星の場合はHSD形式なので「hsdfile」に変更）。fileの後ろはデータファイルの名前、colorの後ろはスケール選択で0〜3

H8H9の場合はこのようになります：st_render5_cpp hsdfile file HS_H09_20250321_0810_B13_R302_R20_S0101.DAT.bz2 color 2

7zipで解凍、lodepngでpng画像出力、netcdfでncファイル読み込みを使用しています。オープンソースライセンスについてはよく分かりませんが、助けてくれたすべての人に感謝します
outpicを乱用してコンピュータの他のファイルを置き換える可能性がある唯一の脅威的な使用方法について、本人はこのような自傷行為に対して一切責任を負いません

## 2025.3.21更新
3年前にコードをC++に変更しましたが、今になって気づきました（笑）  
使用方法：  
1. releaseからプログラムをダウンロードし、解凍します。解凍後のフォルダには5個のファイルがあるはずです：7z.exe 7z.dll HS_H09_20250321_0810_B13_R302_R20_S0101.DAT.bz2 runstrender.bat st_render5_cpp.exe  
1.5 runstrender.batを直接ダブルクリックすると準備されたサンプルが実行されます  
2. 必要なhimawari standard data(HSD)データファイルを取得し、https://registry.opendata.aws/noaa-himawari/ の右側のbrowse bucketから探すことができます。ダウンロードしたbz2ファイルは解凍してもしなくても構いません。第一歩で解凍したフォルダに配置してください（試してもらうためにHS_H09_20250321_0810_B13_R302_R20_S0101.DAT.bz2というファイルを事前に準備しました）  
3. runstrender.batを右クリックして編集を選択し、fileの後ろに処理したいHSDファイル名を入力、colorの後ろに0は白黒スケール、1はBD、2は名前を忘れたスケールを入力  
後ろにoutpicスペースを追加して、希望する出力画像ファイル名を書くこともできます。出力画像はすべてpng形式です  
4. runstrender.batをダブルクリックして実行し、数秒待つとフォルダ内に解凍されたHSDファイルとpng画像が生成されます  
cmdで実行しても構いません  
7zipプログラムで解凍、lodepngプロジェクトで画像出力を使用しています。これらの作者の皆様、そして私を助けてくれた世界中のすべての人に感謝します。各種オープンソースライセンスについてはあまり詳しくありません。